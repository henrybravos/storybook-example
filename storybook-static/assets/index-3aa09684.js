var z=Object.defineProperty;var Y=(e,t,r)=>t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var L=(e,t,r)=>(Y(e,typeof t!="symbol"?t+"":t,r),r);var J=/(%?)(%([sdijo]))/g;function q(e,t){switch(t){case"s":return e;case"d":case"i":return Number(e);case"j":return JSON.stringify(e);case"o":{if(typeof e=="string")return e;const r=JSON.stringify(e);return r==="{}"||r==="[]"||/^\[object .+?\]$/.test(r)?e:r}}}function v(e,...t){if(t.length===0)return e;let r=0,n=e.replace(J,(i,l,h,u)=>{const s=t[r],a=q(s,u);return l?i:(r++,a)});return r<t.length&&(n+=` ${t.slice(r).join(" ")}`),n=n.replace(/%{2,2}/g,"%"),n}var F=2;function K(e){if(!e.stack)return;const t=e.stack.split(`
`);t.splice(1,F),e.stack=t.join(`
`)}var B=class extends Error{constructor(e,...t){super(e),this.message=e,this.name="Invariant Violation",this.message=v(e,...t),K(this)}},G=(e,t,...r)=>{if(!e)throw new B(t,...r)};G.as=(e,t,r,...n)=>{if(!t){const i=n.length===0?r:v(r,n);let l;try{l=Reflect.construct(e,[i])}catch{l=e(i)}throw l}};const Ie=Object.freeze(Object.defineProperty({__proto__:null,InvariantError:B,format:v,invariant:G},Symbol.toStringTag,{value:"Module"})),H="[MSW]";function P(e,...t){const r=v(e,...t);return`${H} ${r}`}function X(e,...t){console.warn(P(e,...t))}function Q(e,...t){console.error(P(e,...t))}const Pe={formatMessage:P,warn:X,error:Q};var N=class extends Error{constructor(e,t,r){super(`Possible EventEmitter memory leak detected. ${r} ${t.toString()} listeners added. Use emitter.setMaxListeners() to increase limit`),this.emitter=e,this.type=t,this.count=r,this.name="MaxListenersExceededWarning"}},U=class{static listenerCount(e,t){return e.listenerCount(t)}constructor(){this.events=new Map,this.maxListeners=U.defaultMaxListeners,this.hasWarnedAboutPotentialMemoryLeak=!1}_emitInternalEvent(e,t,r){this.emit(e,t,r)}_getListeners(e){return Array.prototype.concat.apply([],this.events.get(e))||[]}_removeListener(e,t){const r=e.indexOf(t);return r>-1&&e.splice(r,1),[]}_wrapOnceListener(e,t){const r=(...n)=>(this.removeListener(e,r),t.apply(this,n));return Object.defineProperty(r,"name",{value:t.name}),r}setMaxListeners(e){return this.maxListeners=e,this}getMaxListeners(){return this.maxListeners}eventNames(){return Array.from(this.events.keys())}emit(e,...t){const r=this._getListeners(e);return r.forEach(n=>{n.apply(this,t)}),r.length>0}addListener(e,t){this._emitInternalEvent("newListener",e,t);const r=this._getListeners(e).concat(t);if(this.events.set(e,r),this.maxListeners>0&&this.listenerCount(e)>this.maxListeners&&!this.hasWarnedAboutPotentialMemoryLeak){this.hasWarnedAboutPotentialMemoryLeak=!0;const n=new N(this,e,this.listenerCount(e));console.warn(n)}return this}on(e,t){return this.addListener(e,t)}once(e,t){return this.addListener(e,this._wrapOnceListener(e,t))}prependListener(e,t){const r=this._getListeners(e);if(r.length>0){const n=[t].concat(r);this.events.set(e,n)}else this.events.set(e,r.concat(t));return this}prependOnceListener(e,t){return this.prependListener(e,this._wrapOnceListener(e,t))}removeListener(e,t){const r=this._getListeners(e);return r.length>0&&(this._removeListener(r,t),this.events.set(e,r),this._emitInternalEvent("removeListener",e,t)),this}off(e,t){return this.removeListener(e,t)}removeAllListeners(e){return e?this.events.delete(e):this.events.clear(),this}listeners(e){return Array.from(this._getListeners(e))}listenerCount(e){return this._getListeners(e).length}rawListeners(e){return this.listeners(e)}},A=U;A.defaultMaxListeners=10;const Ae=Object.freeze(Object.defineProperty({__proto__:null,Emitter:A,MemoryLeakError:N},Symbol.toStringTag,{value:"Module"}));var Z=new TextEncoder;function ke(e){return Z.encode(e)}function Te(e,t){return new TextDecoder(t).decode(e)}function Ce(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}var ee=new Set([101,103,204,205,304]);function De(e){return ee.has(e)}function te(){if(typeof navigator<"u"&&navigator.product==="ReactNative")return!0;if(typeof process<"u"){const e=process.type;return e==="renderer"||e==="worker"?!1:!!(process.versions&&process.versions.node)}return!1}var re=Object.defineProperty,se=(e,t)=>{for(var r in t)re(e,r,{get:t[r],enumerable:!0})},O={};se(O,{blue:()=>ie,gray:()=>I,green:()=>ae,red:()=>oe,yellow:()=>ne});function ne(e){return`\x1B[33m${e}\x1B[0m`}function ie(e){return`\x1B[34m${e}\x1B[0m`}function I(e){return`\x1B[90m${e}\x1B[0m`}function oe(e){return`\x1B[31m${e}\x1B[0m`}function ae(e){return`\x1B[32m${e}\x1B[0m`}var E=te(),R=class{constructor(e){L(this,"prefix");this.name=e,this.prefix=`[${this.name}]`;const t=k("DEBUG"),r=k("LOG_LEVEL");t==="1"||t==="true"||typeof t<"u"&&this.name.startsWith(t)?(this.debug=w(r,"debug")?g:this.debug,this.info=w(r,"info")?g:this.info,this.success=w(r,"success")?g:this.success,this.warning=w(r,"warning")?g:this.warning,this.error=w(r,"error")?g:this.error):(this.info=g,this.success=g,this.warning=g,this.error=g,this.only=g)}extend(e){return new R(`${this.name}:${e}`)}debug(e,...t){this.logEntry({level:"debug",message:I(e),positionals:t,prefix:this.prefix,colors:{prefix:"gray"}})}info(e,...t){this.logEntry({level:"info",message:e,positionals:t,prefix:this.prefix,colors:{prefix:"blue"}});const r=new ce;return(n,...i)=>{r.measure(),this.logEntry({level:"info",message:`${n} ${I(`${r.deltaTime}ms`)}`,positionals:i,prefix:this.prefix,colors:{prefix:"blue"}})}}success(e,...t){this.logEntry({level:"info",message:e,positionals:t,prefix:`✔ ${this.prefix}`,colors:{timestamp:"green",prefix:"green"}})}warning(e,...t){this.logEntry({level:"warning",message:e,positionals:t,prefix:`⚠ ${this.prefix}`,colors:{timestamp:"yellow",prefix:"yellow"}})}error(e,...t){this.logEntry({level:"error",message:e,positionals:t,prefix:`✖ ${this.prefix}`,colors:{timestamp:"red",prefix:"red"}})}only(e){e()}createEntry(e,t){return{timestamp:new Date,level:e,message:t}}logEntry(e){const{level:t,message:r,prefix:n,colors:i,positionals:l=[]}=e,h=this.createEntry(t,r),u=(i==null?void 0:i.timestamp)||"gray",s=(i==null?void 0:i.prefix)||"gray",a={timestamp:O[u],prefix:O[s]};this.getWriter(t)([a.timestamp(this.formatTimestamp(h.timestamp))].concat(n!=null?a.prefix(n):[]).concat(T(r)).join(" "),...l.map(T))}formatTimestamp(e){return`${e.toLocaleTimeString("en-GB")}:${e.getMilliseconds()}`}getWriter(e){switch(e){case"debug":case"success":case"info":return le;case"warning":return ue;case"error":return fe}}},ce=class{constructor(){L(this,"startTime");L(this,"endTime");L(this,"deltaTime");this.startTime=performance.now()}measure(){this.endTime=performance.now();const e=this.endTime-this.startTime;this.deltaTime=e.toFixed(2)}},g=()=>{};function le(e,...t){if(E){process.stdout.write(v(e,...t)+`
`);return}console.log(e,...t)}function ue(e,...t){if(E){process.stderr.write(v(e,...t)+`
`);return}console.warn(e,...t)}function fe(e,...t){if(E){process.stderr.write(v(e,...t)+`
`);return}console.error(e,...t)}function k(e){var t;return E?process.env[e]:(t=globalThis[e])==null?void 0:t.toString()}function w(e,t){return e!==void 0&&e!==t}function T(e){return typeof e>"u"?"undefined":e===null?"null":typeof e=="string"?e:typeof e=="object"?JSON.stringify(e):e.toString()}var je=Symbol("isPatchedModule");function C(e){return globalThis[e]||void 0}function he(e,t){globalThis[e]=t}function pe(e){delete globalThis[e]}var de=(e=>(e.INACTIVE="INACTIVE",e.APPLYING="APPLYING",e.APPLIED="APPLIED",e.DISPOSING="DISPOSING",e.DISPOSED="DISPOSED",e))(de||{}),ge=class{constructor(e){this.symbol=e,this.readyState="INACTIVE",this.emitter=new A,this.subscriptions=[],this.logger=new R(e.description),this.emitter.setMaxListeners(0),this.logger.info("constructing the interceptor...")}checkEnvironment(){return!0}apply(){const e=this.logger.extend("apply");if(e.info("applying the interceptor..."),this.readyState==="APPLIED"){e.info("intercepted already applied!");return}if(!this.checkEnvironment()){e.info("the interceptor cannot be applied in this environment!");return}this.readyState="APPLYING";const r=this.getInstance();if(r){e.info("found a running instance, reusing..."),this.on=(n,i)=>(e.info('proxying the "%s" listener',n),r.emitter.addListener(n,i),this.subscriptions.push(()=>{r.emitter.removeListener(n,i),e.info('removed proxied "%s" listener!',n)}),this),this.readyState="APPLIED";return}e.info("no running instance found, setting up a new instance..."),this.setup(),this.setInstance(),this.readyState="APPLIED"}setup(){}on(e,t){const r=this.logger.extend("on");return this.readyState==="DISPOSING"||this.readyState==="DISPOSED"?(r.info("cannot listen to events, already disposed!"),this):(r.info('adding "%s" event listener:',e,t),this.emitter.on(e,t),this)}once(e,t){return this.emitter.once(e,t),this}off(e,t){return this.emitter.off(e,t),this}removeAllListeners(e){return this.emitter.removeAllListeners(e),this}dispose(){const e=this.logger.extend("dispose");if(this.readyState==="DISPOSED"){e.info("cannot dispose, already disposed!");return}if(e.info("disposing the interceptor..."),this.readyState="DISPOSING",!this.getInstance()){e.info("no interceptors running, skipping dispose...");return}if(this.clearInstance(),e.info("global symbol deleted:",C(this.symbol)),this.subscriptions.length>0){e.info("disposing of %d subscriptions...",this.subscriptions.length);for(const t of this.subscriptions)t();this.subscriptions=[],e.info("disposed of all subscriptions!",this.subscriptions.length)}this.emitter.removeAllListeners(),e.info("destroyed the listener!"),this.readyState="DISPOSED"}getInstance(){var e;const t=C(this.symbol);return this.logger.info("retrieved global instance:",(e=t==null?void 0:t.constructor)==null?void 0:e.name),t}setInstance(){he(this.symbol,this),this.logger.info("set global instance!",this.symbol.description)}clearInstance(){pe(this.symbol),this.logger.info("cleared global instance!",this.symbol.description)}},D=class extends ge{constructor(e){D.symbol=Symbol(e.name),super(D.symbol),this.interceptors=e.interceptors}setup(){const e=this.logger.extend("setup");e.info("applying all %d interceptors...",this.interceptors.length);for(const t of this.interceptors)e.info('applying "%s" interceptor...',t.constructor.name),t.apply(),e.info("adding interceptor dispose subscription"),this.subscriptions.push(()=>t.dispose())}on(e,t){for(const r of this.interceptors)r.on(e,t);return this}once(e,t){for(const r of this.interceptors)r.once(e,t);return this}off(e,t){for(const r of this.interceptors)r.off(e,t);return this}removeAllListeners(e){for(const t of this.interceptors)t.removeAllListeners(e);return this}};function Me(e,t=!0){return[t&&e.origin,e.pathname].filter(Boolean).join("")}function $e(e){if(typeof location>"u")return e.toString();const t=e instanceof URL?e:new URL(e);return t.origin===location.origin?t.pathname:t.origin+t.pathname}var me=Object.create,W=Object.defineProperty,ye=Object.getOwnPropertyDescriptor,V=Object.getOwnPropertyNames,ve=Object.getPrototypeOf,be=Object.prototype.hasOwnProperty,xe=(e,t)=>function(){return t||(0,e[V(e)[0]])((t={exports:{}}).exports,t),t.exports},Le=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of V(t))!be.call(e,i)&&i!==r&&W(e,i,{get:()=>t[i],enumerable:!(n=ye(t,i))||n.enumerable});return e},we=(e,t,r)=>(r=e!=null?me(ve(e)):{},Le(t||!e||!e.__esModule?W(r,"default",{value:e,enumerable:!0}):r,e)),_e=xe({"node_modules/set-cookie-parser/lib/set-cookie.js"(e,t){var r={decodeValues:!0,map:!1,silent:!1};function n(s){return typeof s=="string"&&!!s.trim()}function i(s,a){var o=s.split(";").filter(n),f=o.shift(),c=l(f),m=c.name,p=c.value;a=a?Object.assign({},r,a):r;try{p=a.decodeValues?decodeURIComponent(p):p}catch(b){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+p+"'. Set options.decodeValues to false to disable this feature.",b)}var d={name:m,value:p};return o.forEach(function(b){var _=b.split("="),x=_.shift().trimLeft().toLowerCase(),S=_.join("=");x==="expires"?d.expires=new Date(S):x==="max-age"?d.maxAge=parseInt(S,10):x==="secure"?d.secure=!0:x==="httponly"?d.httpOnly=!0:x==="samesite"?d.sameSite=S:d[x]=S}),d}function l(s){var a="",o="",f=s.split("=");return f.length>1?(a=f.shift(),o=f.join("=")):o=s,{name:a,value:o}}function h(s,a){if(a=a?Object.assign({},r,a):r,!s)return a.map?{}:[];if(s.headers)if(typeof s.headers.getSetCookie=="function")s=s.headers.getSetCookie();else if(s.headers["set-cookie"])s=s.headers["set-cookie"];else{var o=s.headers[Object.keys(s.headers).find(function(c){return c.toLowerCase()==="set-cookie"})];!o&&s.headers.cookie&&!a.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),s=o}if(Array.isArray(s)||(s=[s]),a=a?Object.assign({},r,a):r,a.map){var f={};return s.filter(n).reduce(function(c,m){var p=i(m,a);return c[p.name]=p,c},f)}else return s.filter(n).map(function(c){return i(c,a)})}function u(s){if(Array.isArray(s))return s;if(typeof s!="string")return[];var a=[],o=0,f,c,m,p,d;function b(){for(;o<s.length&&/\s/.test(s.charAt(o));)o+=1;return o<s.length}function _(){return c=s.charAt(o),c!=="="&&c!==";"&&c!==","}for(;o<s.length;){for(f=o,d=!1;b();)if(c=s.charAt(o),c===","){for(m=o,o+=1,b(),p=o;o<s.length&&_();)o+=1;o<s.length&&s.charAt(o)==="="?(d=!0,o=p,a.push(s.substring(f,m)),f=o):o=m+1}else o+=1;(!d||o>=s.length)&&a.push(s.substring(f,s.length))}return a}t.exports=h,t.exports.parse=h,t.exports.parseString=i,t.exports.splitCookiesString=u}}),j=we(_e()),y="MSW_COOKIE_STORE";function M(){try{if(localStorage==null)return!1;const e=y+"_test";return localStorage.setItem(e,"test"),localStorage.getItem(e),localStorage.removeItem(e),!0}catch{return!1}}function $(e,t){try{return e[t],!0}catch{return!1}}var Se=class{constructor(){this.store=new Map}add(e,t){if($(e,"credentials")&&e.credentials==="omit")return;const r=new URL(e.url),n=t.headers.get("set-cookie");if(!n)return;const i=Date.now(),l=(0,j.parse)(n).map(({maxAge:u,...s})=>({...s,expires:u===void 0?s.expires:new Date(i+u*1e3),maxAge:u})),h=this.store.get(r.origin)||new Map;l.forEach(u=>{this.store.set(r.origin,h.set(u.name,u))})}get(e){this.deleteExpiredCookies();const t=new URL(e.url),r=this.store.get(t.origin)||new Map;if(!$(e,"credentials"))return r;switch(e.credentials){case"include":return typeof document>"u"||(0,j.parse)(document.cookie).forEach(i=>{r.set(i.name,i)}),r;case"same-origin":return r;default:return new Map}}getAll(){return this.deleteExpiredCookies(),this.store}deleteAll(e){const t=new URL(e.url);this.store.delete(t.origin)}clear(){this.store.clear()}hydrate(){if(!M())return;const e=localStorage.getItem(y);if(e)try{JSON.parse(e).forEach(([r,n])=>{this.store.set(r,new Map(n.map(([i,{expires:l,...h}])=>[i,l===void 0?h:{...h,expires:new Date(l)}])))})}catch(t){console.warn(`
[virtual-cookie] Failed to parse a stored cookie from the localStorage (key "${y}").

Stored value:
${localStorage.getItem(y)}

Thrown exception:
${t}

Invalid value has been removed from localStorage to prevent subsequent failed parsing attempts.`),localStorage.removeItem(y)}}persist(){if(!M())return;const e=Array.from(this.store.entries()).map(([t,r])=>[t,Array.from(r.entries())]);localStorage.setItem(y,JSON.stringify(e))}deleteExpiredCookies(){const e=Date.now();this.store.forEach((t,r)=>{t.forEach(({expires:n,name:i})=>{n!==void 0&&n.getTime()<=e&&t.delete(i)}),t.size===0&&this.store.delete(r)})}},Ee=new Se;const Be=Object.freeze(Object.defineProperty({__proto__:null,PERSISTENCY_KEY:y,store:Ee},Symbol.toStringTag,{value:"Module"}));export{D as B,A as E,ge as I,te as a,je as b,Te as c,Pe as d,Ce as e,ke as f,Me as g,De as h,G as i,de as j,Be as k,Ie as l,Ae as m,Ee as s,$e as t};
